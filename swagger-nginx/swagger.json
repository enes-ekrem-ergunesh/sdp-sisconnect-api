{"swagger": "2.0", "basePath": "/", "paths": {"/authentication/": {"post": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Token%20Info"}}}, "summary": "Login with email and password", "operationId": "login_with_email_password", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/EmailPasswordLogin"}}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["authentication"]}}, "/authentication/google": {"post": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Token%20Info"}}}, "summary": "Login with Google", "operationId": "login_with_google", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/GoogleLogin"}}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["authentication"]}}, "/harmonyPersonnels/": {"get": {"responses": {"200": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/HarmonyPersonnel"}}}}, "summary": "List all harmony personnels", "operationId": "list_harmony_personnels", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["harmonyPersonnels"]}}, "/harmonyPersonnels/{email}": {"parameters": [{"name": "email", "in": "path", "required": true, "type": "string"}], "get": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/HarmonyPersonnel"}}}, "summary": "Get personnel by email", "operationId": "get_personnel_by_email", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["harmonyPersonnels"]}}, "/harmonyStudents/": {"get": {"responses": {"200": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/HarmonyStudent"}}}}, "summary": "List all harmony students", "operationId": "list_harmony_students", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["harmonyStudents"]}}, "/harmonyStudents/{email}": {"parameters": [{"name": "email", "in": "path", "required": true, "type": "string"}], "get": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/HarmonyStudent"}}}, "summary": "Get student by email", "operationId": "get_student_by_email", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["harmonyStudents"]}}, "/profiles/{user_id}": {"parameters": [{"name": "user_id", "in": "path", "required": true, "type": "integer"}], "get": {"responses": {"200": {"description": "Success"}}, "summary": "Get profile by user id", "operationId": "get_profile", "tags": ["profiles"]}}, "/tokens/": {"get": {"responses": {"200": {"description": "Success"}}, "summary": "Verify token (using middleware in wsgi file)", "operationId": "verify_token", "tags": ["tokens"]}, "put": {"responses": {"200": {"description": "Success"}}, "summary": "Revoke token", "operationId": "revoke_token", "tags": ["tokens"]}, "post": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Token%20Info"}}}, "summary": "Get token info", "operationId": "get_token_info", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/Token"}}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["tokens"]}}, "/users/": {"get": {"responses": {"200": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/User"}}}}, "summary": "List all users", "operationId": "list_users", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["users"]}}}, "info": {"title": "SIS Connect API", "version": "1.0", "description": "A simple API"}, "produces": ["application/json"], "consumes": ["application/json"], "securityDefinitions": {"JWT Token": {"type": "apiKey", "in": "header", "name": "Authorization"}}, "security": [{"JWT Token": []}], "tags": [{"name": "users", "description": "User related operations"}, {"name": "harmonyPersonnels", "description": "Harmony personnel related operations"}, {"name": "harmonyStudents", "description": "Harmony student related operations"}, {"name": "tokens", "description": "Token related operations"}, {"name": "authentication", "description": "Authentication related operations"}, {"name": "profiles", "description": "Profile related operations"}], "definitions": {"User": {"required": ["email", "is_admin"], "properties": {"id": {"type": "integer", "description": "The user unique identifier"}, "email": {"type": "string", "description": "The user email address"}, "is_admin": {"type": "boolean", "description": "Is the user an admin?"}}, "type": "object"}, "HarmonyPersonnel": {"required": ["birthdate", "family_name", "first_name", "gender", "old_id", "password", "personal_email", "personnel_id", "phone_numbers", "school_email"], "properties": {"id": {"type": "integer", "description": "The harmony personnel unique identifier"}, "personnel_id": {"type": "string", "description": "The personnel id"}, "first_name": {"type": "string", "description": "The first name of the personnel"}, "family_name": {"type": "string", "description": "The family name of the personnel"}, "personal_email": {"type": "string", "description": "The personal email address of the personnel"}, "school_email": {"type": "string", "description": "The school email address of the personnel"}, "password": {"type": "string", "description": "The password of the personnel"}, "phone_numbers": {"type": "string", "description": "The phone numbers of the personnel"}, "gender": {"type": "string", "description": "The gender of the personnel"}, "birthdate": {"type": "string", "format": "date", "description": "The birthdate of the personnel"}, "old_id": {"type": "string", "description": "The old id of the personnel"}}, "type": "object"}, "HarmonyStudent": {"required": ["address", "birthdate", "email", "family_name", "first_name", "gender", "password", "student_id"], "properties": {"id": {"type": "integer", "description": "The student identifier"}, "student_id": {"type": "string", "description": "The student ID"}, "first_name": {"type": "string", "description": "The student first name"}, "family_name": {"type": "string", "description": "The student family name"}, "gender": {"type": "string", "description": "Gender of the student"}, "birthdate": {"type": "string", "format": "date", "description": "Birthdate of the student"}, "address": {"type": "string", "description": "Address of the student"}, "password": {"type": "string", "description": "Password of the student"}, "email": {"type": "string", "description": "Email of the student"}}, "type": "object"}, "Token": {"required": ["token"], "properties": {"token": {"type": "string", "description": "The token"}}, "type": "object"}, "Token Info": {"required": ["token", "token_type_id", "user_id", "valid_until"], "properties": {"id": {"type": "integer", "description": "The user unique identifier"}, "user_id": {"type": "integer", "description": "The user id"}, "token_type_id": {"type": "integer", "description": "The token type id"}, "token": {"type": "string", "description": "The token"}, "valid_until": {"type": "string", "format": "date-time", "description": "The token expiration date"}, "revoked_at": {"type": "string", "format": "date-time", "description": "The token revocation date"}}, "type": "object"}, "EmailPasswordLogin": {"required": ["email", "password", "remember_me"], "properties": {"email": {"type": "string", "description": "User email"}, "password": {"type": "string", "description": "User password"}, "remember_me": {"type": "boolean", "description": "Remember me"}}, "type": "object"}, "GoogleLogin": {"required": ["id_token"], "properties": {"id_token": {"type": "string", "description": "Google id token"}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}}}
